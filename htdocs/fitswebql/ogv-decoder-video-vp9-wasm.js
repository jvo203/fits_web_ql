
var OGVDecoderVideoVP9W = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  return (
function(OGVDecoderVideoVP9W) {
  OGVDecoderVideoVP9W = OGVDecoderVideoVP9W || {};

var a;a||(a=typeof OGVDecoderVideoVP9W !== 'undefined' ? OGVDecoderVideoVP9W : {});var l=a;a.memoryLimit&&(a.TOTAL_MEMORY=l.memoryLimit);var p={},q;for(q in a)a.hasOwnProperty(q)&&(p[q]=a[q]);a.arguments=[];a.thisProgram="./this.program";a.quit=function(b,c){throw c;};a.preRun=[];a.postRun=[];var r=!1,t=!1,v=!1,aa=!1;r="object"===typeof window;t="function"===typeof importScripts;v="object"===typeof process&&"function"===typeof require&&!r&&!t;aa=!r&&!v&&!t;var y="";
function z(b){return a.locateFile?a.locateFile(b,y):y+b}
if(v){y=__dirname+"/";var A,B;a.read=function(b,c){A||(A=require("fs"));B||(B=require("path"));b=B.normalize(b);b=A.readFileSync(b);return c?b:b.toString()};a.readBinary=function(b){b=a.read(b,!0);b.buffer||(b=new Uint8Array(b));assert(b.buffer);return b};1<process.argv.length&&(a.thisProgram=process.argv[1].replace(/\\/g,"/"));a.arguments=process.argv.slice(2);process.on("unhandledRejection",function(){process.exit(1)});a.quit=function(b){process.exit(b)};a.inspect=function(){return"[Emscripten Module object]"}}else if(aa)"undefined"!=
typeof read&&(a.read=function(b){return read(b)}),a.readBinary=function(b){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,"binary");assert("object"===typeof b);return b},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(b){quit(b)});else if(r||t)r?document.currentScript&&(y=document.currentScript.src):y=self.location.href,_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?
y.split("/").slice(0,-1).join("/")+"/":"",a.read=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.send(null);return c.responseText},t&&(a.readBinary=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)}),a.readAsync=function(b,c,d){var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.onload=function(){200==e.status||0==e.status&&e.response?c(e.response):d()};e.onerror=d;e.send(null)},a.setWindowTitle=
function(b){document.title=b};var D=a.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),E=a.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||D);for(q in p)p.hasOwnProperty(q)&&(a[q]=p[q]);p=void 0;function ba(b){var c;c||(c=16);return Math.ceil(b/c)*c}var ca={"f64-rem":function(b,c){return b%c},"debugger":function(){debugger}},da=0;function assert(b,c){b||F("Assertion failed: "+c)}
var ea="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function G(b,c){0<b%c&&(b+=c-b%c);return b}var buffer,fa,H,I;function J(){a.HEAP8=fa=new Int8Array(buffer);a.HEAP16=new Int16Array(buffer);a.HEAP32=I=new Int32Array(buffer);a.HEAPU8=H=new Uint8Array(buffer);a.HEAPU16=new Uint16Array(buffer);a.HEAPU32=new Uint32Array(buffer);a.HEAPF32=new Float32Array(buffer);a.HEAPF64=new Float64Array(buffer)}var K,M,ha,oa,pa,qa,N;
K=M=ha=oa=pa=qa=N=0;a.reallocBuffer||(a.reallocBuffer=function(b){try{if(ArrayBuffer.o)var c=ArrayBuffer.o(buffer,b);else{var d=fa;c=new ArrayBuffer(b);(new Int8Array(c)).set(d)}}catch(e){return!1}return ra(c)?c:!1});var sa;try{sa=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),sa(new ArrayBuffer(4))}catch(b){sa=function(c){return c.byteLength}}var ta=a.TOTAL_STACK||5242880,O=a.TOTAL_MEMORY||16777216;
O<ta&&E("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+O+"! (TOTAL_STACK="+ta+")");a.buffer?buffer=a.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(a.wasmMemory=new WebAssembly.Memory({initial:O/65536}),buffer=a.wasmMemory.buffer):buffer=new ArrayBuffer(O),a.buffer=buffer);J();
function P(b){for(;0<b.length;){var c=b.shift();if("function"==typeof c)c();else{var d=c.s;"number"===typeof d?void 0===c.a?a.dynCall_v(d):a.dynCall_vi(d,c.a):d(void 0===c.a?null:c.a)}}}var ua=[],va=[],wa=[],xa=[],ya=!1;function za(){var b=a.preRun.shift();ua.unshift(b)}var Q=0,Aa=null,S=null;a.preloadedImages={};a.preloadedAudios={};function T(b){return String.prototype.startsWith?b.startsWith("data:application/octet-stream;base64,"):0===b.indexOf("data:application/octet-stream;base64,")}
(function(){function b(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(a.readBinary)return a.readBinary(h);throw"both async and sync fetching of the wasm failed";}catch(w){F(w)}}function c(){return a.wasmBinary||!r&&!t||"function"!==typeof fetch?new Promise(function(c){c(b())}):fetch(h,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+h+"'";return b.arrayBuffer()}).catch(function(){return b()})}function d(b){function d(b){f=b.exports;if(f.memory){b=
f.memory;var c=a.buffer;b.byteLength<c.byteLength&&E("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");c=new Int8Array(c);(new Int8Array(b)).set(c);a.buffer=buffer=b;J()}a.asm=f;a.usingWasm=!0;Q--;a.monitorRunDependencies&&a.monitorRunDependencies(Q);0==Q&&(null!==Aa&&(clearInterval(Aa),Aa=null),S&&(b=S,S=null,b()))}function e(b){d(b.instance)}function w(b){c().then(function(b){return WebAssembly.instantiate(b,g)}).then(b).catch(function(b){E("failed to asynchronously prepare wasm: "+
b);F(b)})}if("object"!==typeof WebAssembly)return E("no native wasm support detected"),!1;if(!(a.wasmMemory instanceof WebAssembly.Memory))return E("no native wasm Memory in use"),!1;b.memory=a.wasmMemory;g.global={NaN:NaN,Infinity:Infinity};g["global.Math"]=Math;g.env=b;Q++;a.monitorRunDependencies&&a.monitorRunDependencies(Q);if(a.instantiateWasm)try{return a.instantiateWasm(g,d)}catch(ja){return E("Module.instantiateWasm callback failed with error: "+ja),!1}a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||
T(h)||"function"!==typeof fetch?w(e):WebAssembly.instantiateStreaming(fetch(h,{credentials:"same-origin"}),g).then(e).catch(function(b){E("wasm streaming compile failed: "+b);E("falling back to ArrayBuffer instantiation");w(e)});return{}}var e="ogv-decoder-video-vp9-wasm.wast",h="ogv-decoder-video-vp9-wasm.wasm",k="ogv-decoder-video-vp9-wasm.temp.asm.js";T(e)||(e=z(e));T(h)||(h=z(h));T(k)||(k=z(k));var g={global:null,env:null,asm2wasm:ca,parent:a},f=null;a.asmPreload=a.asm;var m=a.reallocBuffer;a.reallocBuffer=
function(b){if("asmjs"===C)var c=m(b);else a:{b=G(b,a.usingWasm?65536:16777216);var d=a.buffer.byteLength;if(a.usingWasm)try{c=-1!==a.wasmMemory.grow((b-d)/65536)?a.buffer=a.wasmMemory.buffer:null;break a}catch(la){c=null;break a}c=void 0}return c};var C="";a.asm=function(b,c){if(!c.table){b=a.wasmTableSize;void 0===b&&(b=1024);var e=a.wasmMaxTableSize;c.table="object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?void 0!==e?new WebAssembly.Table({initial:b,maximum:e,element:"anyfunc"}):
new WebAssembly.Table({initial:b,element:"anyfunc"}):Array(b);a.wasmTable=c.table}c.memoryBase||(c.memoryBase=a.STATIC_BASE);c.tableBase||(c.tableBase=0);c=d(c);assert(c,"no binaryen method succeeded.");return c}})();K=1024;M=K+36960;va.push();a.STATIC_BASE=K;a.STATIC_BUMP=36960;M+=16;var U=0;function V(){U+=4;return I[U-4>>2]}var Ba={};
function W(b,c){U=c;try{var d=V(),e=V(),h=V();b=0;W.c||(W.c=[null,[],[]],W.i=function(b,c){var d=W.c[b];assert(d);if(0===c||10===c){b=1===b?D:E;a:{for(var e=c=0;d[e];)++e;if(16<e-c&&d.subarray&&ea)c=ea.decode(d.subarray(c,e));else for(e="";;){var f=d[c++];if(!f){c=e;break a}if(f&128){var h=d[c++]&63;if(192==(f&224))e+=String.fromCharCode((f&31)<<6|h);else{var g=d[c++]&63;if(224==(f&240))f=(f&15)<<12|h<<6|g;else{var k=d[c++]&63;if(240==(f&248))f=(f&7)<<18|h<<12|g<<6|k;else{var m=d[c++]&63;if(248==
(f&252))f=(f&3)<<24|h<<18|g<<12|k<<6|m;else{var x=d[c++]&63;f=(f&1)<<30|h<<24|g<<18|k<<12|m<<6|x}}}65536>f?e+=String.fromCharCode(f):(f-=65536,e+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else e+=String.fromCharCode(f)}}b(c);d.length=0}else d.push(c)});for(c=0;c<h;c++){for(var k=I[e+8*c>>2],g=I[e+(8*c+4)>>2],f=0;f<g;f++)W.i(d,H[k+f]);b+=g}return b}catch(m){return"undefined"!==typeof FS&&m instanceof FS.b||F(m),-m.f}}var Da=M;M=M+4+15&-16;N=Da;ha=oa=ba(M);pa=ha+ta;qa=ba(pa);I[N>>2]=qa;
a.wasmTableSize=170;a.wasmMaxTableSize=170;a.g={};
a.h={abort:F,enlargeMemory:function(){var b=a.usingWasm?65536:16777216,c=2147483648-b;if(I[N>>2]>c)return!1;var d=O;for(O=Math.max(O,16777216);O<I[N>>2];)536870912>=O?O=G(2*O,b):O=Math.min(G((3*O+2147483648)/4,b),c);b=a.reallocBuffer(O);if(!b||b.byteLength!=O)return O=d,!1;a.buffer=buffer=b;J();return!0},getTotalMemory:function(){return O},abortOnCannotGrowMemory:function(){F("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+O+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},
invoke_i:function(b){var c=X();try{return a.dynCall_i(b)}catch(d){Y(c);if("number"!==typeof d&&"longjmp"!==d)throw d;a.setThrew(1,0)}},invoke_ii:function(b,c){var d=X();try{return a.dynCall_ii(b,c)}catch(e){Y(d);if("number"!==typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_iii:function(b,c,d){var e=X();try{return a.dynCall_iii(b,c,d)}catch(h){Y(e);if("number"!==typeof h&&"longjmp"!==h)throw h;a.setThrew(1,0)}},invoke_iiiiii:function(b,c,d,e,h,k){var g=X();try{return a.dynCall_iiiiii(b,c,
d,e,h,k)}catch(f){Y(g);if("number"!==typeof f&&"longjmp"!==f)throw f;a.setThrew(1,0)}},invoke_v:function(b){var c=X();try{a.dynCall_v(b)}catch(d){Y(c);if("number"!==typeof d&&"longjmp"!==d)throw d;a.setThrew(1,0)}},invoke_vi:function(b,c){var d=X();try{a.dynCall_vi(b,c)}catch(e){Y(d);if("number"!==typeof e&&"longjmp"!==e)throw e;a.setThrew(1,0)}},invoke_viiii:function(b,c,d,e,h){var k=X();try{a.dynCall_viiii(b,c,d,e,h)}catch(g){Y(k);if("number"!==typeof g&&"longjmp"!==g)throw g;a.setThrew(1,0)}},
invoke_viiiiii:function(b,c,d,e,h,k,g){var f=X();try{a.dynCall_viiiiii(b,c,d,e,h,k,g)}catch(m){Y(f);if("number"!==typeof m&&"longjmp"!==m)throw m;a.setThrew(1,0)}},___setErrNo:function(b){a.___errno_location&&(I[a.___errno_location()>>2]=b);return b},___syscall140:function(b,c){U=c;try{var d=Ba.l();V();var e=V(),h=V(),k=V();FS.w(d,e,k);I[h>>2]=d.position;d.m&&0===e&&0===k&&(d.m=null);return 0}catch(g){return"undefined"!==typeof FS&&g instanceof FS.b||F(g),-g.f}},___syscall146:W,___syscall54:function(b,
c){U=c;return 0},___syscall6:function(b,c){U=c;try{var d=Ba.l();FS.close(d);return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.b||F(e),-e.f}},_emscripten_memcpy_big:function(b,c,d){H.set(H.subarray(c,c+d),b);return b},_longjmp:function(b,c){a.setThrew(b,c||1);throw"longjmp";},_ogvjs_callback_frame:function(b,c,d,e,h,k,g,f,m,C,w,ia,ka,la,ja,Ia){console.log("picWidth = ",w,"picHeight = ",ia);var ma=a.HEAPU8,x=w+7&-8,R=ia+7&-8,u=x*m/g,L=R*C/f,Ca=ka&-2,na=la&-2;g=Ca*m/g;C=na*C/f;m=new Uint8Array(x*
R);for(f=0;f<R;f++){var n=b+(f+na)*c+ka;n=ma.subarray(n,n+x);m.set(n,x*f)}b=new Uint8Array(u*L);for(f=0;f<L;f++)n=d+(f+C)*e+g,n=ma.subarray(n,n+u),b.set(n,u*f);d=new Uint8Array(u*L);for(f=0;f<L;f++)n=h+(f+C)*k+g,n=ma.subarray(n,n+u),d.set(n,u*f);a.frameBuffer={format:{width:x,height:R,chromaWidth:u,chromaHeight:L,cropLeft:ka-Ca,cropTop:la-na,cropWidth:w,cropHeight:ia,displayWidth:ja,displayHeight:Ia},y:{bytes:m,stride:x},u:{bytes:b,stride:u},v:{bytes:d,stride:u}}},DYNAMICTOP_PTR:N,STACKTOP:oa};
var Ea=a.asm(a.g,a.h,buffer);a.asm=Ea;var ra=a._emscripten_replace_memory=function(){return a.asm._emscripten_replace_memory.apply(null,arguments)};a._free=function(){return a.asm._free.apply(null,arguments)};a._malloc=function(){return a.asm._malloc.apply(null,arguments)};a._ogv_video_decoder_async=function(){return a.asm._ogv_video_decoder_async.apply(null,arguments)};a._ogv_video_decoder_destroy=function(){return a.asm._ogv_video_decoder_destroy.apply(null,arguments)};
a._ogv_video_decoder_init=function(){return a.asm._ogv_video_decoder_init.apply(null,arguments)};a._ogv_video_decoder_process_frame=function(){return a.asm._ogv_video_decoder_process_frame.apply(null,arguments)};a._ogv_video_decoder_process_header=function(){return a.asm._ogv_video_decoder_process_header.apply(null,arguments)};a.setThrew=function(){return a.asm.setThrew.apply(null,arguments)};
var Y=a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},X=a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)};a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)};a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)};a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)};a.dynCall_iiiiii=function(){return a.asm.dynCall_iiiiii.apply(null,arguments)};
a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)};a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)};a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)};a.dynCall_viiiiii=function(){return a.asm.dynCall_viiiiii.apply(null,arguments)};a.asm=Ea;a.then=function(b){if(a.calledRun)b(a);else{var c=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){c&&c();b(a)}}return a};S=function Fa(){a.calledRun||Ga();a.calledRun||(S=Fa)};
function Ga(){function b(){if(!a.calledRun&&(a.calledRun=!0,!da)){ya||(ya=!0,P(va));P(wa);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var b=a.postRun.shift();xa.unshift(b)}P(xa)}}if(!(0<Q)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)za();P(ua);0<Q||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},
1);b()},1)):b())}}a.run=Ga;function F(b){if(a.onAbort)a.onAbort(b);void 0!==b?(D(b),E(b),b=JSON.stringify(b)):b="";da=!0;throw"abort("+b+"). Build with -s ASSERTIONS=1 for more info.";}a.abort=F;if(a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();a.noExitRuntime=!0;Ga();var Z,Ha,Ja;Ja="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);
function Ka(b){var c=Ja();b=b();a.cpuTime+=Ja()-c;return b}a.loadedMetadata=!!l.videoFormat;a.videoFormat=l.videoFormat||null;a.frameBuffer=null;a.cpuTime=0;Object.defineProperty(a,"processing",{get:function(){return!1}});a.init=function(b){Ka(function(){a._ogv_video_decoder_init()});b()};a.processHeader=function(b,c){var d=Ka(function(){var c=b.byteLength;Z&&Ha>=c||(Z&&a._free(Z),Ha=c,Z=a._malloc(Ha));var d=Z;a.HEAPU8.set(new Uint8Array(b),d);return a._ogv_video_decoder_process_header(d,c)});c(d)};
a.j=[];a.processFrame=function(b,c){function d(b){a._free(k);c(b)}var e=a._ogv_video_decoder_async(),h=b.byteLength,k=a._malloc(h);e&&a.j.push(d);var g=Ka(function(){a.HEAPU8.set(new Uint8Array(b),k);return a._ogv_video_decoder_process_frame(k,h)});e||d(g)};a.close=function(){};


  return OGVDecoderVideoVP9W;
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
    module.exports = OGVDecoderVideoVP9W;
  else if (typeof define === 'function' && define['amd'])
    define([], function() { return OGVDecoderVideoVP9W; });
  else if (typeof exports === 'object')
    exports["OGVDecoderVideoVP9W"] = OGVDecoderVideoVP9W;
  